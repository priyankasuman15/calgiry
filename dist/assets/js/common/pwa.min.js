"use strict";function ready(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function slideshow(){for(var e=document.querySelectorAll(".slideshow"),r=[],t=[],l=0;l<e.length;++l)r.push(e[l].querySelectorAll(".slides li")),t.push(e[l].querySelectorAll(".thumbs li"));for(var n=0;n<t.length;++n)!function(i){for(var e=0;e<t[i].length;++e)t[i][e].addEventListener("click",function(e){for(var t=e.currentTarget.childNodes,l=t[0].href.slice(t[0].href.lastIndexOf("#")+1),n=0;n<r[i].length;++n)r[i][n].style.opacity=0,r[i][n].style.zIndex=1;for(var o=0;o<r[i].length;++o)r[i][o].id===l&&(r[i][o].style.zIndex=2,r[i][o].style.opacity=1)},!1)}(n)}function watcher(){var t,l=0,n=document.body.scrollHeight,o=window.innerWidth,d=window.innerHeight,i=document.querySelector(".overlay"),e=document.querySelector(".responsive"),r=document.querySelector(".sidebar"),s=document.querySelector(".progress"),c=!1,a="";function u(){0<l&&l<d/2?scrollTo(fixScrollTop(),0,600):d/2<l&&l<d&&scrollTo(fixScrollTop(),d,600)}function y(){c||(requestAnimationFrame(f),c=!0)}function f(){switch(c=!1,a){case"scroll":e=l/(n-d),s.style.setProperty("--scroll-position",e),s.style.setProperty("--scroll-color","rgba(231, 193, 87, .6)"),640<o&&(clearTimeout(t),t=setTimeout(u,2e3)),containsClass(r,"open")&&(r.style.visibility="hidden",r.style.zIndex=10,i.style.display="none",removeClass(".sidebar","open")),function(){var e=document.querySelectorAll(".section");removeClass(".sidebar .menu ul li","current");for(var t,l,n,o,i=0;i<e.length;++i)if(t=e[i],o=n=l=void 0,l=getBoundingBox(t),n=l.top,o=l.bottom,(0<n||0<o)&&n<d/2&&d/2<o)for(var r=e[i].id,s=document.querySelectorAll('[href="#'.concat(r,'"]')),c=0;c<s.length;++c)s[c].closest("li").classList.add("current")}();break;case"resize":960<window.innerWidth?r.style.visibility="visible":(r.style.visibility="hidden",r.style.zIndex=10,i.style.display="none",removeClass(".ccc","open"));break;case"click":containsClass(r,"open")?(r.style.visibility="hidden",r.style.zIndex=10,i.style.display="none",removeClass(".sidebar","open")):(r.style.visibility="visible",r.style.zIndex=1111,i.style.display="block",addClass(".sidebar","open"))}var e}window.addEventListener("scroll",function(){l=getScrollY(),a="scroll",y()},!1),window.addEventListener("resize",function(){o=window.innerWidth,d=window.innerHeight,n=document.body.scrollHeight,a="resize",y()},!1),e.addEventListener("click",function(){a="click",y()},!1)}function currentPage(){for(var e=(e=window.location.pathname.slice(1))||"blog",t=document.querySelectorAll('[href*="'+e+'"]'),l=0;l<t.length;++l)t[l].closest("li").classList.add("current")}function external(){for(var e=new RegExp("^((f|ht)tps?:)?(//)?("+window.location.host+")"),t=document.getElementsByTagName("a"),l=t.length-1;0<=l;--l)e.test(t[l].host)||(t[l].target="_blank")}function visibility(){var e=document.getElementById("toggle"),t=document.getElementById("update");null!==e&&null!==t&&e.addEventListener("click",function(){"block"===t.style.display?t.style.display="none":t.style.display="block"})}function initScroll(){for(var e=document.querySelectorAll('[href^="#"]'),t=e.length-1;0<=t;--t)e[t].addEventListener("click",willScrollTo,!1)}function scrollTo(e,t,l){var n;l<=0||(n=(t-e.scrollTop)/l*10,setTimeout(function(){e.scrollTop=e.scrollTop+n,e.scrollTop!==t&&scrollTo(e,t,l-10)},10))}function willScrollTo(e){e.preventDefault();var t=window.innerHeight,l=e.target.getAttribute("href").replace("#",""),n=document.getElementById(l),o="banner"===l?n.offsetTop:n.offsetTop+t;scrollTo(fixScrollTop(),o,600)}function fixScrollTop(){return"scrollingElement"in document?document.scrollingElement:-1!==navigator.userAgent.indexOf("WebKit")?document.body:document.documentElement}ready(function(){slideshow(),watcher(),initScroll(),external(),currentPage(),visibility()});