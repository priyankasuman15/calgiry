"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,o){"function"==typeof define&&define.amd?define([],o):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=o():e.Tophat=o()}("undefined"!=typeof self?self:void 0,function(){return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e={},o=!1,d={image:"",wrapper:"",container:"",popoverLink:"",offsetTop:0};function t(){d.image=r.path+r.image,d.wrapper=document.querySelector("#".concat(r.wrapper)),d.container=document.querySelector("#".concat(r.container));var e,o,t,n,i,c=(e=d.wrapper,o=document.documentElement,t=function(e){return e.getBoundingClientRect()}(e),n=t.top+window.pageYOffset-o.clientTop,i=t.left+window.pageXOffset-o.clientLeft,{top:n,left:i});d.offsetTop=c.top,d.popoverLink=document.querySelectorAll("[data-popover]")}function n(e){e.preventDefault(),i();var o=this.dataset.popover.replace(/^#/,"");document.querySelector("#".concat(o)).classList.toggle("open"),e.stopImmediatePropagation()}function i(e){var o=document.querySelectorAll(".open");if(0<o.length)for(var t=0;t<o.length;t++)o[t].classList.remove("open")}function c(){var e=p();d.offsetTop<e&&!document.body.classList.contains("is-docked")&&(document.body.classList.add("is-docked"),d.container.style.padding="120px 0 0 0"),d.offsetTop>e&&document.body.classList.contains("is-docked")&&(document.body.classList.remove("is-docked"),d.container.style.padding="60px 0 0 0"),o=!1}function p(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}function f(){p(),o||(requestAnimationFrame(c),o=!0)}return e.init=function(e){Object.assign(r,e),t(),window.addEventListener("scroll",f,!1);for(var o=0;o<d.popoverLink.length;o++)d.popoverLink[o].addEventListener("click",n,!1);document.addEventListener("click",i,!1)},e}});